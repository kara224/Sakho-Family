<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Famille Sakho - Arbre généalogique</title>
  <meta name="description" content="Arbre généalogique complet de la famille Sakho avec 5 générations." />
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* Section spécifique arbre */
    .tree-container {
      max-width: 95vw;
      margin: 2rem auto;
      overflow-x: auto;
      padding-bottom: 1rem;
      -webkit-overflow-scrolling: touch;
      border: 1px solid #a68c5a;
      background: #fff8e1;
      border-radius: 8px;
    }
    .tree {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 900px;
      font-family: 'Open Sans', sans-serif;
      color: #4a4031;
      user-select: none;
    }
    .generation {
      display: flex;
      justify-content: center;
      margin: 1rem 0;
      gap: 1rem;
      flex-wrap: nowrap;
      white-space: nowrap;
    }
    /* Générations 1 à 4 en colonnes centrées */
    .generation.g1,
    .generation.g2,
    .generation.g3 {
      flex-wrap: nowrap;
    }
    /* 5e génération scroll horizontal */
    .generation.g5 {
      overflow-x: auto;
      padding: 0.5rem 0;
      max-width: 100%;
      gap: 1.2rem;
    }
    .node {
      background: #a68c5a;
      color: #fff;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      min-width: 140px;
      text-align: center;
      font-weight: 600;
      box-shadow: 0 2px 5px rgb(121 102 58 / 0.5);
      transition: background-color 0.3s ease;
    }
    .node:hover {
      background: #7b6b42;
    }
    .node.active {
      background: #574b2b;
    }
    /* Lignes de liaison */
    .connector {
      width: 2px;
      background: #a68c5a;
      margin: 0 auto;
    }
    .vertical-line {
      height: 20px;
    }
    .horizontal-line {
      height: 2px;
      width: 40px;
      margin: 10px 0;
      background: #a68c5a;
    }
    /* Conteneur toggle caché */
    .children {
      display: none;
      margin-top: 1rem;
      flex-wrap: nowrap;
    }
    .children.active {
      display: flex;
      justify-content: center;
      gap: 1rem;
    }

    /* Responsive */
    @media (max-width: 700px) {
      .node {
        min-width: 110px;
        font-size: 0.9rem;
        padding: 0.5rem 0.8rem;
      }
      .generation {
        gap: 0.7rem;
      }
      .horizontal-line {
        width: 25px;
      }
    }
  </style>
</head>
<body>
<header>
  <nav class="nav-bar">
    <ul>
      <li><a href="index.html">Accueil</a></li>
      <li><a href="arbre.html" class="active">Arbre généalogique</a></li>
      <li><a href="histoire.html">Histoire</a></li>
      <li><a href="galerie.html">Galerie</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </nav>
</header>

<main class="container">
  <h1>Arbre généalogique de la famille Sakho</h1>

  <div class="tree-container" aria-label="Arbre généalogique descendant">
    <div class="tree" role="tree">

      <!-- Génération 1 -->
      <div class="generation g1" role="group" aria-label="Génération 1">
        <div class="node" role="treeitem" tabindex="0" aria-expanded="false" data-id="g1-1">Karamoko Ba Sakho</div>
      </div>

      <div class="connector vertical-line"></div>

      <!-- Génération 2 -->
      <div class="generation g2" role="group" aria-label="Génération 2">
        <div class="node" role="treeitem" tabindex="0" aria-expanded="false" data-id="g2-1">Ba Salim Sakho</div>
        <div class="node" role="treeitem" tabindex="0" aria-expanded="false" data-id="g2-2">Ba Sanoussy Sakho</div>
        <div class="node" role="treeitem" tabindex="0" aria-expanded="false" data-id="g2-3">Idrissa Sakho</div>
        <div class="node" role="treeitem" tabindex="0" aria-expanded="false" data-id="g2-4">Karamba Sakho</div>
      </div>

      <div class="connector vertical-line"></div>

      <!-- Génération 3 -->
      <div class="generation g3" role="group" aria-label="Génération 3">
        <!-- Descendants de Ba Salim -->
        <div class="node toggle-parent" role="treeitem" tabindex="0" aria-expanded="false" data-id="g3-1">Enfants Ba Salim</div>
        <!-- Descendants de Ba Sanoussy -->
        <div class="node toggle-parent" role="treeitem" tabindex="0" aria-expanded="false" data-id="g3-2">Enfants Ba Sanoussy</div>
        <!-- Descendants de Idrissa -->
        <div class="node toggle-parent" role="treeitem" tabindex="0" aria-expanded="false" data-id="g3-3">Enfants Idrissa</div>
        <!-- Descendants de Karamba -->
        <div class="node toggle-parent" role="treeitem" tabindex="0" aria-expanded="false" data-id="g3-4">Enfants Karamba</div>
      </div>

      <div class="connector vertical-line"></div>

      <!-- Génération 4 (toggle enfants de G3) -->
      <!-- Ba Salim -->
      <div class="children" data-parent="g3-1" role="group" aria-label="Enfants Ba Salim">
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-1">Bakasso Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-2">Bo Lassana Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-3">Sankoun Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-4">Bambo Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-5">Moukhtar Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-6">Ban Fakary Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-7">Bakodaye Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-8">Kanjoura Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-9">Bakoutoubo Sakho</div>
      </div>

      <!-- Ba Sanoussy -->
      <div class="children" data-parent="g3-2" role="group" aria-label="Enfants Ba Sanoussy">
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-10">Balamine Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-11">Kalifa Sakho</div>
      </div>

      <!-- Idrissa -->
      <div class="children" data-parent="g3-3" role="group" aria-label="Enfants Idrissa">
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-12">Ta Ba Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-13">Madiba Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-14">Famady Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-15">Cheikhou / Serhou Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-16">Karamba Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-17">Soriba Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-18">Baba Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-19">Bemba Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-20">Sankoun Sakho</div>
      </div>

      <!-- Karamba -->
      <div class="children" data-parent="g3-4" role="group" aria-label="Enfants Karamba">
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-21">Muhamadou Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-22">Bemba Sakho</div>
        <div class="node toggle-parent" tabindex="0" aria-expanded="false" data-id="g4-23">Tigui Mady Sakho</div>
      </div>

      <div class="connector vertical-line"></div>

      <!-- Génération 5 (enfants des G4, affichage scroll horizontal) -->
      <div class="generation g5" role="group" aria-label="Génération 5">
        <!-- Exemple : ici on affiche vide car pas de descendants précisés dans l'exemple -->
        <!-- Tu pourras ajouter ici les descendants quand tu les auras -->
        <div class="node">Voir descendants des générations précédentes</div>
      </div>

    </div>
  </div>
</main>

<footer>
  <p>© 2025 Famille Sakho - Tous droits réservés</p>
</footer>

<script>
  // Toggle enfants au clic + gestion aria-expanded et focus keyboard
  document.querySelectorAll('.toggle-parent').forEach(node => {
    node.addEventListener('click', () => {
      toggleChildren(node);
    });
    node.addEventListener('keydown', e => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        toggleChildren(node);
      }
    });
  });

  function toggleChildren(node) {
    const id = node.dataset.id;
    const parentContainer = document.querySelector(`.children[data-parent="${id}"]`);
    if (!parentContainer) return;

    const expanded = node.getAttribute('aria-expanded') === 'true';
    node.setAttribute('aria-expanded', !expanded);
    node.classList.toggle('active', !expanded);

    if (expanded) {
      parentContainer.classList.remove('active');
    } else {
      parentContainer.classList.add('active');
    }
  }
</script>
</body>
</html>