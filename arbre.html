<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Arbre généalogique - Famille Sakho</title>
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* --- Mise en page locale sans changer la charte --- */
    html, body { overflow-x: auto; margin:0; padding:0; }
    .arbre-container {
      display: flex; flex-direction: column; align-items: center;
      padding: 40px 20px; width: 100%; overflow-x: auto;
    }
    .generation { display: flex; justify-content: center; align-items: center; margin: 30px 0; position: relative; }

    /* Respect de l’interaction originale: .enfants masqué par défaut, visible via .visible */
    .enfants { display: none; flex-direction: column; }
    .enfants.visible { display: flex !important; }

    /* Wrapper horizontal pour la 4e génération */
    .arbre-scrollable {
      display: flex; flex-direction: row; gap: 40px; overflow-x: auto;
      padding: 10px 0; max-width: 100%; box-sizing: border-box;
    }
    .arbre-scrollable::-webkit-scrollbar { height: 8px; }

    /* Colonne par parent (4e gén) avec ses enfants (5e gén) juste en dessous */
    .branche-parent {
      display: flex; flex-direction: column; align-items: center; gap: 12px; min-width: 200px;
    }
    .branche-parent > .enfants { /* 5e gén verticale sous le parent */
      display: none; /* caché par défaut */
      flex-direction: column; gap: 10px;
    }
    .branche-parent > .enfants.visible { display: flex !important; }

    /* Utilise ton style existant (.personne, .titre-generation, etc.) depuis style.css ;
       si ces classes n’existent pas dans style.css, on tolère ce minimum neutre : */
    .personne { min-width: 200px; text-align: center; cursor: pointer; user-select: none; box-sizing: border-box; }
    .titre-generation { font-weight: bold; font-size: 16px; margin-bottom: 4px; user-select: none; }
  </style>
</head>
<body>
  <header>
    <h1 style="text-align: center;">Famille Sakho</h1>
    <nav style="text-align: center;">
      <a href="index.html">Accueil</a> |
      <a href="arbre.html" class="active">Arbre généalogique</a> |
      <a href="biographie.html">Biographie</a> |
      <a href="pourquoi.html">Pourquoi ce site</a>
    </nav>
  </header>

  <main>
    <div class="arbre-container">
      <h2>Arbre généalogique</h2>

      <!-- Génération 1 -->
      <div class="generation">
        <div class="personne" onclick="toggle('g1')" title="Cliquer pour afficher la 2e génération">
          <div class="titre-generation">1ère Génération</div>
          Cheikh Mawla Idrissa Sakho<br/>
          (Djeninkaba Sakho)
        </div>
      </div>

      <!-- Génération 2 -->
      <div class="generation enfants" id="g1">
        <div class="personne" onclick="toggle('g2')" title="Cliquer pour afficher la 3e génération">
          <div class="titre-generation">2e Génération</div>
          Mohamed Khalifa Sakho<br/>
          Fils de : Djeninkaba Sakho
        </div>
      </div>

      <!-- Génération 3 -->
      <div class="generation enfants" id="g2">
        <div class="personne" onclick="toggle('g3')" title="Cliquer pour afficher la 4e génération">
          <div class="titre-generation">3e Génération</div>
          Sidy Mohamed Sakho<br/>
          Fils de : Mohamed Khalifa Sakho
        </div>
      </div>

      <!-- Génération 4 : horizontale, chaque parent contient sa 5e gén -->
      <div class="generation enfants" id="g3">
        <div class="arbre-scrollable">

          <!-- 4e Génération : Ba Salim -->
          <div class="branche-parent">
            <div class="personne" onclick="toggle('g4a')" title="Afficher/Replier les enfants de Ba Salim">
              <div class="titre-generation">4e Génération</div>
              Ba Salim Sakho<br/>
              Fils de : Sidy Mohamed Sakho
            </div>
            <!-- 5e Génération : enfants de Ba Salim -->
            <div class="enfants" id="g4a">
              <div class="personne">Bakasso Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Bo Lassana Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Sankoun Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Bambo Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Moukhtar Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Ban Fakary Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Bakodaye Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Kanjoura Sakho<br/>Fils de : Ba Salim</div>
              <div class="personne">Bakoutoubo Sakho<br/>Fils de : Ba Salim</div>
            </div>
          </div>

          <!-- 4e Génération : Ba Sanoussy -->
          <div class="branche-parent">
            <div class="personne" onclick="toggle('g4b')" title="Afficher/Replier les enfants de Ba Sanoussy">
              <div class="titre-generation">4e Génération</div>
              Ba Sanoussy Sakho<br/>
              Fils de : Sidy Mohamed Sakho
            </div>
            <!-- 5e Génération : enfants de Ba Sanoussy -->
            <div class="enfants" id="g4b">
              <div class="personne">Balamine Sakho<br/>Fils de : Ba Sanoussy</div>
              <div class="personne">Kalifa Sakho<br/>Fils de : Ba Sanoussy</div>
            </div>
          </div>

          <!-- 4e Génération : Idrissa -->
          <div class="branche-parent">
            <div class="personne" onclick="toggle('g4c')" title="Afficher/Replier les enfants d'Idrissa">
              <div class="titre-generation">4e Génération</div>
              Idrissa Sakho<br/>
              Fils de : Sidy Mohamed Sakho
            </div>
            <!-- 5e Génération : enfants d'Idrissa -->
            <div class="enfants" id="g4c">
              <div class="personne">Ta Ba Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Madiba Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Famady Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Cheikhou / Serhou Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Karamba Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Soriba Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Baba Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Bemba Sakho<br/>Fils de : Idrissa</div>
              <div class="personne">Sankoun Sakho<br/>Fils de : Idrissa</div>
            </div>
          </div>

          <!-- 4e Génération : Karamba -->
          <div class="branche-parent">
            <div class="personne" onclick="toggle('g4d')" title="Afficher/Replier les enfants de Karamba">
              <div class="titre-generation">4e Génération</div>
              Karamba Sakho<br/>
              Fils de : Sidy Mohamed Sakho
            </div>
            <!-- 5e Génération : enfants de Karamba -->
            <div class="enfants" id="g4d">
              <div class="personne">Muhamadou Sakho<br/>Fils de : Karamba</div>
              <div class="personne">Bemba Sakho<br/>Fils de : Karamba</div>
              <div class="personne">Tigui Mady Sakho<br/>Fille de : Karamba</div>
            </div>
          </div>

        </div>
      </div>

    </div>
  </main>

  <footer>
    <p class="discret" style="text-align:center;">© 2025 Famille Sakho</p>
  </footer>

  <script>
    // Ne replie JAMAIS automatiquement les anciennes générations.
    // On ne replie que la section cliquée (et ses descendants si on la referme).
    function toggle(id) {
      const el = document.getElementById(id);
      if (!el) return;

      const wasVisible = el.classList.contains('visible');
      el.classList.toggle('visible');

      // Si on referme une section, on replie ses descendants pour garder un DOM propre.
      if (wasVisible) {
        el.querySelectorAll('.enfants.visible').forEach(child => child.classList.remove('visible'));
      }
    }
  </script>
</body>
</html>
